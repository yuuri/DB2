#### DB2 数据库安装过程



1.解压安装包

```shell
tar -zxvf db2exc_970_LNX_x86_64.tar.gz -C /opt/
```



2.执行安装

```
sudo sh /opt/db2install
```




  

这里会弹出图形化界面进行安装

![avatar](https://i.loli.net/2019/05/10/5cd4e2513cbd1.png)







1）需要同意协议，

2）典型安装，

3）保存响应文件并安装

4）设置安装目录

5）DAS用户设置

![1557453225635.png](https://i.loli.net/2019/05/10/5cd4e3614b73f.png)



这里设置用户为默认设置 ，设定密码。也可以使用已存在用户，指定已存在用户不能是root用户

6）设置实例

DB2必须至少要有一个实例才行，可以选择安装时创建DB2实例或者安装完成后再创建。选择安装后创建则后面就没有实例用户和受防护用户的设置内容了，但是需要安装完成后立即在终端中手动创建实例和实例用户等，要麻烦一些。所以这里选择安装时创建。

![1557453415421.png](https://i.loli.net/2019/05/10/5cd4e3615919b.png)



7）然后进入实例设置页面。这是DB2安装过程中最重要的一环了，和DAS用户设置一样，DB2实例所有者可以是创建的新用户，也可以直接使用现有用户。

如果创建新用户，则可自己指定用户名，组名，用户主目录等。DB2默认实例名和该实例的所有者用户名是一样的，比如默认创建一个用户名为db2inst1的用户，则实例名为db2inst1

![1557453467936.png](https://i.loli.net/2019/05/10/5cd4e361599bb.png)



如果直接使用现有用户，则可以指定一个已存在的用户，比如直接指定为当前用户。使用现有用户主要是基于方便上的考虑。当然，创建的实例名也会和指定的现有用户的用户名一样。

要注意：Linux环境下，DB2实例直接是和用户相关联的，一个实例必须对应于一个实例所有者用户和一个受防护用户（当然实例所有者用户和受防护用户可以是同一个用户），一个用户也最多只能有一个DB2实例。想要创建多个实例就需要先创建多个用户。为了使用的方便，这里直接使用当前用户作为实例所有者用户，即为当前用户创建DB2实例。（如果使用别的用户创建实例，则使用当前用户登录后还要进行用户切换才能使用DB2数据库）



![1557453644646.png](https://i.loli.net/2019/05/10/5cd4e411bf3c2.png)





8）

一切配置就绪，开始安装。安装过程中可能要求提供语言包镜像。将之前下载的语言包解压后，指定镜像目录为解压得到的目录就行了。

![1557453770640.png](https://i.loli.net/2019/05/10/5cd4e411b73c8.png)



9）完成安装

![1557453828180.png](https://i.loli.net/2019/05/10/5cd4e411b91e3.png)